---
# yaml-language-server: $schema=../docs-resources/schemas/defs-schema.json

$schema: "../docs-resources/schemas/defs-schema.json#"

# Used to create normative rules for rv32.adoc file.
# Tags refer to anchors in any adoc file for any ISA manual.
chapter_name: Machine Mode

normative_rule_definitions:
  # M-mode general
  - name: M_highest_priv_mode
    tag: "norm:M_highest_priv_mode"
  - name: M_mode_at_reset
    tag: "norm:M_mode_at_reset"
  - name: M_access_all_lower_priv_CSRs
    tag: "norm:M_access_all_lower_priv_CSRs"

  # CSR misa
  - name: misa_acc
    tag: "norm:misa_acc"
  - name: misa_always_rd
    tag: "norm:misa_always_rd"
  - name: misa_csr_implemented
    tag: "norm:misa_csr_implemented"
    kind: parameter
    description: |
      Whether or not the `misa` CSR returns zero or a non-zero value.

      Possible values:
        * true - The `misa` CSR returns a non-zero value.
        * false - The `misa` CSR is read-only-0.
  - name: misa_mxl_op
    tags:
      - "norm:misa_mxl_op_isa"
      - "norm:misa_mxl_op_nz"
  - name: mxlen
    tags:
      - "norm:misa_mxl_op_nz"
      - "norm:xlen_le_mxlen"
    kind: parameter
    description: XLEN in M-mode
  - name: misa_mxl_acc
    tag: "norm:misa_mxl_acc"
  - name: misa_mxl_enc
    tag: "norm:misa_mxl_enc"
  - name: misa_sz
    tag: "norm:misa_sz"
  - name: misa_extensions_enc
    tags: ["norm:misa_extensions_enc_txt", "norm:misa_extensions_enc_tbl"]
  - name: misa_extensions_op
    tag: "norm:misa_extensions_op"
  - name: misa_extensions_rst
    tag: "norm:misa_extensions_rst"
  - name: misa_extensions_disabling
    description: what happens when you turn off bits
    tag: "norm:misa_extensions_disabling"
  - name: misa_extensions_impl_def
    tag: "norm:misa_extensions_impl_def"
  - name: misa_extensions_disabling_def
    tag: "norm:misa_extensions_disabling_def"
  - name: misa_extensions_rsv_ret_0
    tag: "norm:misa_extensions_rsv_ret_0"
  - name: misa_i_op
    tag: "norm:misa_i_op"
  - name: misa_e_op
    tag: "norm:misa_e_op"
  - name: misa_x_op
    tag: "norm:misa_x_op"
  - name: misa_b_op
    tag: "norm:misa_b_op"
  - name: misa_m_op
    tag: "norm:misa_m_op"
  - name: misa_s_op
    tag: "norm:misa_s_op"
  - name: misa_u_op
    tag: "norm:misa_u_op"
  - name: misa_e_not_i
    tag: "norm:misa_e_not_i"
  - name: Zmmul_misa_m
    tag: "norm:Zmmul_misa_m"
  - name: misa_e_acc
    tag: "norm:misa_e_acc"
  - name: misa_extensions_dependencies
    tag: "norm:misa_extensions_dependencies"
  - name: misa_inc_ialign
    tag: "norm:misa_inc_ialign"

  # CSR mvendorid
  - names: [mvendorid_sz, mvendorid_acc, mvendorid_op]
    tag: "norm:mvendorid_sz_acc_op"
  - name: vendor_id_bank
    tag: "norm:mvendorid_sz_acc_op"
    kind: parameter
    description: JEDEC Vendor ID bank, for CSR mvendorid
  - name: vendor_id_offset
    tag: "norm:mvendorid_sz_acc_op"
    kind: parameter
    description: JEDEC Vendor ID offset, for CSR mvendorid
  - name: mvendorid_always_rd
    tag: "norm:mvendorid_always_rd"
  - name: mvendorid_enc
    tag: "norm:mvendorid_enc"

  # CSR marchid
  - names: [marchid_sz, marchid_acc, marchid_op]
    tag: "norm:marchid_sz_acc_op"
  - name: arch_id
    tag: "norm:marchid_sz_acc_op"
    kind: parameter
    description: Vendor-specific architecture ID for CSR marchid
  - name: marchid_always_rd
    tag: "norm:marchid_always_rd"

  # CSR mimpid
  - name: mimpid_op
    tag: "norm:mimpid_op"
  - name: imp_id
    tag: "norm:mimpid_op"
    kind: parameter
    description: Vendor-specific implementation ID for CSR mimpid
  - name: mimpid_always_rd
    tag: "norm:mimpid_always_rd"

  # CSR mhartid
  - names: [mhartid_sz, mhartid_acc, mhartid_op]
    tag: "norm:mhartid_sz_acc_op"
  - name: hart_id
    tag: "norm:mhartid_sz_acc_op"
    kind: parameter
    description: Instance-specific ID for CSR mhartid
  - name: mhartid_always_rd
    tag: "norm:mhartid_always_rd"
  - name: mhartid_one_is_zero
    tag: "norm:mhartid_one_is_zero"
  - name: mhartid_unique
    tag: "norm:mhartid_unique"

  # CSR mstatus
  - names: [mstatus_sz, mstatus_acc]
    tag: "norm:mstatus_sz_acc"
  - names: [mstatush_sz, mstatush_acc]
    tag: "norm:mstatush_sz_acc"
  - name: mstatush_enc
    tag: "norm:mstatush_enc"
  - name: mstatus_mie_sie_op
    tags: ["norm:mstatus_mie_sie_op1", "norm:mstatus_mie_sie_op2"]
  - name: mstatus_xie_intr_en_dis
    tag: "norm:mstatus_xie_intr_en_dis"
  - names: [mstatus_sie_rdonly0, mstatus_spie_rdonly0]
    tag: "norm:mstatus_sie_spie_rdonly0"
  - names: [mstatus_xpie_op, mstatus_xpp_op]
    tag: "norm:mstatus_xpie_xpp_op"
  - name: mstatus_xpp_enc
    tag: "norm:mstatus_xpp_enc"
  - name: mstatus_mpp_sz
    tag: "norm:mstatus_mpp_sz"
  - name: mstatus_spp_sz
    tag: "norm:mstatus_spp_sz"
