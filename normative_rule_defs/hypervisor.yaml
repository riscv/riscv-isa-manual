---
# yaml-language-server: $schema=../docs-resources/schemas/defs-schema.json

$schema: "../docs-resources/schemas/defs-schema.json#"

chapter_name: H Extension

normative_rule_definitions:
  - name: H_mtval_nrz
    tags: ["norm:H_mtval_nrz"]
  - name: H_vm_supported
    tags: ["norm:H_vm_supported"]
  - name: misa-h_op
    tags: ["norm:misa-h_op"]
  - name: H_csrs_hs_not_vs
    tags: ["norm:H_csrs_hs_not_vs"]
  - name: H_vscsrs_sub
    tags: ["norm:H_vscsrs_sub"]
  - name: H_vscsrs_acc_vs
    tags: ["norm:H_vscsrs_acc_vs"]
  - name: H_vscsrs_acc_u
    tags: ["norm:H_vscsrs_acc_u"]
  - name: H_vscsrs_acc_m_hs
    tags: ["norm:H_vscsrs_acc_m_hs"]
  - name: H_vscsrs_v1
    tags: ["norm:H_vscsrs_v1"]
  - name: H_vscsrs_v0
    tags: ["norm:H_vscsrs_v0"]
  - name: H_scsrs_nomatch
    tags: ["norm:H_scsrs_nomatch"]
  - name: hsxlen
    kind: parameter
    tags: ["norm:hsxlen_param"]
  - name: vsxlen
    kind: parameter
    tags: ["norm:vsxlen_param"]
  - names: [hstatus_sz, hstatus_acc, hstatus_op]
    tags: ["norm:hstatus_sz_acc_op"]
  - name: hstatus-vsxl_op
    tags: ["norm:hstatus-vsxl_op"]
  - name: hstatus-vsxl_32
    tags: ["norm:hstatus-vsxl_32"]
  - name: hstatus-vsxl_64
    tags: ["norm:hstatus-vsxl_64"]
  - name: vsxl_ro
    kind: parameter
    tags: ["norm:vsxl_ro_param"]
  - name: hstatus-vsxl_change
    tags: ["norm:hstatus-vsxl_change"]
  - name: hstatus-vtsr_op
    tags: ["norm:hstatus-vtsr_op"]
  - name: hstatus-vtw_op
    tags: ["norm:hstatus-vtw_op"]
  - name: vtw_virtinstr
    kind: parameter
    tags: ["norm:vtw_virtinstr_param"]
  - name: hstatus-vtvm_op
    tags: ["norm:hstatus-vtvm_op"]
  - name: hstatus-vgein_op
    tags: ["norm:hstatus-vgein_op"]
  - name: hstatus-hu_op
    tags: ["norm:hstatus-hu_op"]
  - name: hstatus-spv_op
    tags: ["norm:hstatus-spv_op"]
  - name: hstatus-spv_sret
    tags: ["norm:hstatus-spv_sret"]
  - name: hstatus-spvp_op
    tags: ["norm:hstatus-spvp_op"]
  - name: hstatus-gva_op
    tags: ["norm:hstatus-gva_op"]
  - name: hstatus-vsbe_op
    tags: ["norm:hstatus-vsbe_op"]
  - names: [hedeleg_sz, hedeleg_acc]
    tags: ["norm:hedeleg_sz_acc"]
  - names: [hideleg_sz]
    tags: ["norm:hideleg_sz_acc"]
  - name: hdeleg_acc
    tags: ["norm:hdeleg_acc"]
  - name: hedeleg_op
    tags: ["norm:hedeleg_op"]
  - names: [hedelegh_sz, hedelegh_acc, hedelegh_op]
    tags: ["norm:hedelegh_sz_acc_op"]
  - name: hideleg_op
    tags: ["norm:hideleg_op"]
  - name: hideleg_acc
    tags: ["norm:hideleg_sz_acc", "norm:hideleg_acc"]
  - name: hideleg_trans
    tags: ["norm:hideleg_trans"]
  - names: [hvip_sz, hvip_op]
    tags: ["norm:hvip_sz_op"]
  - name: hvip_acc
    tags: ["norm:hvip_acc"]
  - names: [hip_hie_sz, hip_hie_acc]
    tags: ["norm:hip_hie_sz_acc"]
  - name: hip_op
    tags: ["norm:hip_op"]
  - name: hie_op
    tags: ["norm:hie_op"]
  - name: sie_hip_hie_mutex
    tags: ["norm:sie_hip_hie_mutex"]
  - name: hideleg_hs
    tags: ["norm:hideleg_hs"]
  - name: hip_acc
    tags: ["norm:hip_acc"]
  - name: hie_acc
    tags: ["norm:hie_acc"]
  - names: [hip_sgeip_sgeie_acc, hip_sgeip_sgeie_op]
    tags: ["norm:hip_sgeip_sgeie_acc_op"]
  - name: hip_vseip_vseie_op
    tags: ["norm:hip_vseip_vseie_op"]
  - names: [hip_vstip_vstie_acc, hip_vstip_vstie_op]
    tags: ["norm:hip_vstip_vstie_acc_op"]
  - name: hip_vssip_vssie_op
    tags: ["norm:hip_vssip_vssie_op"]
  - name: hsint_priority
    tags: ["norm:hsint_priority"]
  - names: [hgeip_sz, hgeip_acc, hgeip_op]
    tags: ["norm:hgeip_sz_acc_op"]
  - names: [hgeie_sz, hgeie_acc]
    tags: ["norm:hgeie_sz_acc_op"]
  - name: hgeip_hgeie_fields
    tags: ["norm:hgeip_hgeie_fields"]
  - name: geilen
    kind: parameter
    tags: ["norm:geilen_param"]
  - name: hgeie_op
    tags: ["norm:hgeie_sz_acc_op", "norm:hgeie_op"]
  - names: [henvcfg_sz, henvcfg_acc, henvcfg_op]
    tags: ["norm:henvcfg_sz_acc_op"]
  - name: henvcfg_fiom_op
    tags: ["norm:henvcfg-fiom_op"]
  - name: henvcfg-fiom_order
    tags: ["norm:henvcfg-fiom_order"]
  - name: henvcfg-pbmte_op
    tags: ["norm:henvcfg-pbmte_op"]
  - name: henvcfg-adue_op
    tags: ["norm:henvcfg-adue_op"]
  - name: henvcfg-pmm_op
    tags: ["norm:henvcfg-pmm_op"]
  - name: henvcfg-lpe_op
    tags: ["norm:henvcfg-lpe_op"]
  - name: henvcfg-sse_op
    tags: ["norm:henvcfg-sse_op"]
  - name: henvcfg-dte_op
    tags: ["norm:henvcfg-dte_op"]
  - names: [henvcfgh_sz, henvcfgh_acc, henvcfgh_op]
    tags: ["norm:henvcfgh_sz_acc_op"]
  - name: hcounteren_sz
    tags: ["norm:hcounteren_sz"]
  - name: hcounteren_op
    tags: ["norm:hcounteren_op"]
  - name: hcounteren_acc
    tags: ["norm:hcounteren_acc"]
  - name: hcounteren_warl
    tags: ["norm:hcounteren_warl"]
  - names: [htimedelta_sz, htimedelta_acc, htimedelta_op]
    tags: ["norm:htimedelta_sz_acc_op"]
  - names: [htimedeltah_sz, htimedeltah_acc, htimedeltah_op]
    tags: ["norm:htimedeltah_sz_acc_op"]
  - name: time_htimedelta_req
    tags: ["norm:time_htimedelta_req"]
  - names: [htval_sz, htval_acc, htval_op]
    tags: ["norm:htval_sz_acc_op"]
  - name: htval_trapval
    kind: parameter
    tags: ["norm:htval_trapval_param"]
  - name: htval_val
    tags: ["norm:htval_val"]
  - names: [htinst_sz, htinst_acc, htinst_op]
    tags: ["norm:htinst_sz_acc_op"]
  - name: htinst_val
    tags: ["norm:htinst_val"]
  - name: hgatp_tvm_illegal
    tags: ["norm:hgatp_tvm_illegal"]
  - names: [hgatp_sz, hgatp_acc, hgatp_op]
    tags: ["norm:hgatp_sz_acc_op"]
  - name: hgatp-mode_bare
    tags: ["norm:hgatp-mode_bare"]
  - name: hgatp-mode_sv
    tags: ["norm:hgatp-mode_sv"]
  - name: hgatp-mode_warl
    tags: ["norm:hgatp-mode_warl"]
  - name: hgatp-ppn_op
    tags: ["norm:hgatp-ppn_op"]
  - name: hgatp-vmid
    kind: parameter
    tags: ["norm:hgatp-vmid_param"]
  - name: hgatp-vmid_lsbs
    tags: ["norm:hgatp-vmid_lsbs"]
  - names: [vsstatus_sz, vsstatus_acc, vsstatus_op]
    tags: ["norm:vsstatus_sz_acc_op"]
  - name: vsstatus-uxl_op
    tags: ["norm:vsstatus-uxl_op"]
  - name: vsstatus-uxl_change
    tags: ["norm:vsstatus-uxl_change"]
  - name: vsstatus-fs_op
    tags: ["norm:vsstatus-fs_op"]
  - name: vsstatus-vs_op
    tags: ["norm:vsstatus-vs_op"]
  - name: vsstatus-sd_xs_op
    tags: ["norm:vsstatus-sd_xs_op"]
  - name: vsstatus-ube
    kind: parameter
    tags: ["norm:vsstatus-ube_param"]
  - name: vsstatus_v0
    tags: ["norm:vsstatus_v0"]
  - name: vsstatus-spelp_op
    tags: ["norm:vsstatus-spelp_op"]
  - name: vsstatus-sdt_op
    tags: ["norm:vsstatus-sdt_op"]
  - names: [vsip_vsie_sz, vsip_vsie_acc, vsip_vsie_op]
    tags: ["norm:vsip_vsie_sz_acc_op"]
  - name: vsip_vsie-lcofi
    tags: ["norm:vsip_vsie-lcofi"]
  - name: vsip_vsie-sei
    tags: ["norm:vsip_vsie-sei"]
  - name: vsip_vsie-sti
    tags: ["norm:vsip_vsie-sti"]
  - name: vsip_vsie-ssi
    tags: ["norm:vsip_vsie-ssi"]
  - names: [vstvec_sz, vstvec_acc, vstvec_op]
    tags: ["norm:vstvec_sz_acc_op"]
  - names: [vsscratch_sz, vsscratch_acc, vsscratch_op]
    tags: ["norm:vsscratch_sz_acc_op"]
  - names: [vspec_sz, vspec_acc, vspec_op]
    tags: ["norm:vspec_sz_acc_op"]
  - name: vsepc_warl
    tags: ["norm:vsepc_warl"]
  - names: [vscause_sz, vscause_acc, vscause_op]
    tags: ["norm:vscause_sz_acc_op"]
  - name: vscause_warl
    tags: ["norm:vscause_warl"]
  - names: [vstval_sz, vstval_acc, vstval_op]
    tags: ["norm:vstval_sz_acc_op"]
  - name: vstval_warl
    tags: ["norm:vstval_warl"]
  - names: [vsatp_sz, vsatp_acc, vsatp_op]
    tags: ["norm:vsatp_sz_acc_op"]
  - name: vsatp-ppn_sv32_sz
    tags: ["norm:vsatp_sz_acc_op", "norm:satp-ppn_sv32_sz"]
  - name: vsatp-ppn_sv39_sv48_sv57_sz
    tags: ["norm:vsatp_sz_acc_op", "norm:satp-ppn_sv39_sz", "norm:satp-ppn_sv48_sz", "norm:satp-ppn_sv57_sz"]
  - name: vsatp-asidlen
    tags: ["norm:vsatp_sz_acc_op", "norm:satp-asidlen"]
  - name: vsatp_mode_unsupported_v0
    tags: ["norm:vsatp_mode_unsupported_v0"]
    kind: parameter
  - name: vsatp_mode_unsupported_v1
    tags: ["norm:vsatp_mode_unsupported_v1"]
  - name: vsatp_v0
    tags: ["norm:vsatp_v0"]
  - name: hlsv_priv
    tags: ["norm:hlsv_priv"]
  - name: hlsv_trans
    tags: ["norm:hlsv_trans"]
  - name: hlsv_sstatus-mxr
    tags: ["norm:hlsv_sstatus-mxr"]
  - name: hlsv_vsstatus-mxr
    tags: ["norm:hlsv_vsstatus-mxr"]
  - name: hlsv_mode
    tags: ["norm:hlsv_mode"]
  - name: hlsv_op
    tags: ["norm:hlsv_op"]
  - name: hlsv_u_op
    tags: ["norm:hlsv_u_op"]
  - name: hlvx-wu_valid32
    tags: ["norm:hlvx-wu_valid32"]
  - name: hlsv_virtinst
    tags: ["norm:hlsv_virtinst"]
  - name: hlsv_illegalinst
    tags: ["norm:hlsv_illegalinst"]
  - name: hfence-vvma_hfence-gvma_op
    tags: ["norm:hfence-vvma_hfence-gvma_op"]
  - name: hfence-vvma_mode
    tags: ["norm:hfence-vvma_mode"]
  - name: hfence-vvma_limits
    tags: ["norm:hfence-vvma_limits"]
  - name: hfence-vvma_asid
    tags: ["norm:hfence-vvma_asid"]
  - name: hfence-vvma_tvm
    tags: ["norm:hfence-vvma_tvm"]
  - name: hfence-gvma_op
    tags: ["norm:hfence-gvma_op"]
  - name: hfence-gvma_vmid
    tags: ["norm:hfence-gvma_vmid"]
  - name: hfence-gvma_mode
    tags: ["norm:hfence-gvma_mode"]
  - name: hfence-vvma_hfence-gvma_exceptions
    tags: ["norm:hfence-vvma_hfence-gvma_exceptions"]
  - name: mstatus_mpv_op
    tags: ["norm:mstatus_mpv_op"]
  - name: mstatus_gva_op
    tags: ["norm:mstatus_gva_op"]
  - name: mstatus_modes
    tags: ["norm:mstatus_modes"]
  - name: mstatus_tvm_hs
    tags: ["norm:mstatus_tvm_hs"]
  - name: mstatus_mprv_hypervisor
    tags: ["norm:mstatus_mprv_hypervisor"]
  - name: mstatus_mprv_hlsv
    tags: ["norm:mstatus_mprv_hlsv"]
  - name: mideleg_acc_h
    tags: ["norm:mideleg_acc_h"]
  - name: mideleg_hroz
    tags: ["norm:mideleg_hroz"]
  - name: mip_mie_vs
    tags: ["norm:mip_mie_vs"]
  - name: mip_mie_alias
    tags: ["norm:mip_mie_alias"]
  - names: [mtval2_sz, mtval2_acc, mtval2_op]
    tags: ["norm:mtval2_sz_acc_op"]
  - name: mtval2_trapval
    kind: parameter
    tags: ["norm:mtval2_trapval_param"]
  - name: mtval2_trapval_vstrans
    tags: ["norm:mtval2_trapval_vstrans"]
  - name: mtval2_trapval_other
    tags: ["norm:mtval2_trapval_other"]
  - name: mtval2_val
    tags: ["norm:mtval2_val"]
  - name: mtval2_Ssdbltrap
    tags: ["norm:mtval2_Ssdbltrap"]
  - names: [mtinst_sz, mtinst_acc, mtinst_op]
    tags: ["norm:mtinst_sz_acc_op"]
  - name: mtinst_val
    tags: ["norm:mtinst_val"]
  - name: H_vm_twostage
    tags: ["norm:H_vm_twostage"]
  - name: vsstatus-mxr_vm
    tags: ["norm:vsstatus-mxr_vm"]
  - name: sstatus-mxr_vm
    tags: ["norm:sstatus-mxr_vm"]
  - name: H_vm_gstagetrans
    tags: ["norm:H_vm_gstagetrans"]
  - name: H_pmp
    tags: ["norm:H_pmp"]
  - name: hgatp-mode_bare_trans
    tags: ["norm:hgatp-mode_bare_trans"]
  - name: hgatp-mode_x4
    tags: ["norm:hgatp-mode_x4"]
  - name: hgatp-mode_sv32x4
    tags: ["norm:hgatp-mode_sv32x4"]
  - name: hgatp-mode_sv39x4
    tags: ["norm:hgatp-mode_sv39x4"]
  - name: hgatp-mode_sv48x4
    tags: ["norm:hgatp-mode_sv48x4"]
  - name: hgatp-mode_sv57x4
    tags: ["norm:hgatp-mode_sv57x4"]
  - name: H_vm_gpatrans
    tags: ["norm:H_vm_gpatrans"]
  - name: H_vm_gpapriv
    tags: ["norm:H_vm_gpapriv"]
  - name: H_vm_gpa_g
    tags: ["norm:H_vm_gpa_g"]
  - name: H_guest_page_fault
    tags: ["norm:H_guest_page_fault"]
  - name: H_straddle
    tags: ["norm:H_straddle"]
  - name: mtval2_htval_virtaddr
    tags: ["norm:mtval2_htval_virtaddr"]
  - name: sfence-vma_v0
    tags: ["norm:sfence-vma_v0"]
  - name: sfence-vma_v1
    tags: ["norm:sfence-vma_v1"]
  - name: H_cause
    tags: ["norm:H_cause"]
  - name: H_cause_ecall
    tags: ["norm:H_cause_ecall"]
  - name: H_cause_virtual_instruction
    tags: ["norm:H_cause_virtual_instruction"]
  - name: H_cause_virtual_instruction_high
    tags: ["norm:H_cause_virtual_instruction_high"]
  - name: H_illegal_high_half
    tags: ["norm:H_illegal_high_half"]
  - name: H_virtinst_vs_nonhighctr_h0_m1
    tags: ["norm:H_virtinst_vs_nonhighctr_h0_m1"]
  - name: H_virtinst_vs32_highctr_h0_m1
    tags: ["norm:H_virtinst_vs32_highctr_h0_m1"]
  - name: H_virtinst_vu_nonhighctr_h0_s0_m1
    tags: ["norm:H_virtinst_vu_nonhighctr_h0_s0_m1"]
  - name: H_virtinst_vu32_highctr_h0_s0_m1
    tags: ["norm:H_virtinst_vu32_highctr_h0_s0_m1"]
  - name: H_virtinst_vu_vs_hinst
    tags: ["norm:H_virtinst_vu_vs_hinst"]
  - name: H_virtinst_vu_vs_nonhigh_allowedhs_tvm0
    tags: ["norm:H_virtinst_vu_vs_nonhigh_allowedhs_tvm0"]
  - name: H_virtinst_vu_vs32_high_allowedhs_tvm0
    tags: ["norm:H_virtinst_vu_vs32_high_allowedhs_tvm0"]
  - name: H_virtinst_vu_wfi_tw0
    tags: ["norm:H_virtinst_vu_wfi_tw0"]
  - name: H_virtinst_vu_sret_sfence
    tags: ["norm:H_virtinst_vu_sret_sfence"]
  - name: H_virtinst_vu_nonhigh_supervisor_allowedhs_tvm0
    tags: ["norm:H_virtinst_vu_nonhigh_supervisor_allowedhs_tvm0"]
  - name: H_virtinst_vu32_high_supervisor_allowedhs_tvm0
    tags: ["norm:H_virtinst_vu32_high_supervisor_allowedhs_tvm0"]
  - name: H_virtinst_wfi_vtw1_tw0
    tags: ["norm:H_virtinst_wfi_vtw1_tw0"]
  - name: H_virtinst_vs_sret_vtsr1
    tags: ["norm:H_virtinst_vs_sret_vtsr1"]
  - name: H_virtinst_vs_sfence_sinval_satp_vtvm1
    tags: ["norm:H_virtinst_vs_sfence_sinval_satp_vtvm1"]

  - name: H_virtinst_xtval
    tags: ["norm:H_virtinst_xtval"]
  - name: H_illegalinst_xstatus_fs_vs
    tags: ["norm:H_illegalinst_xstatus_fs_vs"]
  - name: H_exception_priority
    tags: ["norm:H_exception_priority"]
  - name: H_trap_deleg
    tags: ["norm:H_trap_deleg"]
  - name: H_trap_m_csrwrites
    tags: ["norm:H_trap_m_csrwrites"]
  - name: H_trap_hs_csrwrites
    tags: ["norm:H_trap_hs_csrwrites"]
  - name: H_trap_vs_csrwrites
    tags: ["norm:H_trap_vs_csrwrites"]
  - name: H_trap_xtinst
    tags: ["norm:H_trap_xtinst"]
  - name: H_trap_xtinst_interrupt
    tags: ["norm:H_trap_xtinst_interrupt"]
  - name: H_trap_xtinst_exception
    tags: ["norm:H_trap_xtinst_exception_lead-in", "norm:H_trap_xtinst_exception_list"]
  - name: H_trap_xtinst_val
    tags: ["norm:H_trap_xtinst_val"]
  - name: H_trap_xtinst_guestpage
    tags: ["norm:H_trap_xtinst_guestpage"]
  - name: H_trap_xtinst_guestpage_rw
    tags: ["norm:H_trap_xtinst_guestpage_rw"]
  - name: mret_h
    tags: ["norm:mret_h"]
  - name: sret_h
    tags: ["norm:sret_h"]
  - name: mret_v0
    tags: ["norm:mret_v0"]
  - name: mret_v1
    tags: ["norm:mret_v1"]
  - name: mret_dt
    tags: ["norm:mret_dt"]
  - name: vstimecmp_sz
    summary: vstimecmp is a 64-bit CSR with 64-bit precision
    tags: ["norm:vstimecmp_sz"]
  - name: vstimecmp_acc
    summary: In RV32, vstimecmp low bits accessed via vstimecmp, high bits via vstimecmph
    tags: ["norm:vstimecmp_acc"]
  - name: hip-vstip_op
    summary: VS timer interrupt pending in hip.VSTIP when (time+htimedelta) >= vstimecmp
    tags: ["norm:hip-vstip_op"]
  - name: hip-vstip_clear
    summary: hip.VSTIP cleared when vstimecmp > (time+htimedelta)
    tags: ["norm:hip-vstip_clear"]
  - name: hip-vstip_enable
    summary: VS timer interrupt taken based on enable/delegation rules while V=1
    tags: ["norm:hip-vstip_enable"]

 # Sstc extension
  - name: henvcfg-stce
    tag: "norm:henvcfg-stce"

 # Zicboz extension
  - name: henvcfg-cbze
    tag: "norm:henvcfg-cbze"
  - name: henvcfg-cbcfe
    tag: "norm:henvcfg-cbcfe"
  - name: henvcfg-cbie
    tag: "norm:henvcfg-cbie"
  - name: cbo-inval_h-mode_veq1_op
    tag: "norm:cbo-inval_h-mode_veq1_op"
  - name: cbo-inval_h-mode_op
    tags: ["norm:cbo-inval_h-mode_op0", "norm:cbo-inval_h-mode_op1", "norm:cbo-inval_h-mode_op2"]
